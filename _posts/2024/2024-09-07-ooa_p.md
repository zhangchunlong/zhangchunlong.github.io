---  
layout: post  
title: 面向对象分析与设计笔记  
categories:  
- 技术  
tags:  
- Software Engineering
---

### 复杂性 ###
#### 软件复杂性 ####
问题域复杂性  
管理开发过程的困难性  
软件中随处可能出现的灵活性  
描述离散系统行为的问题：当前数字计算机上执行软件，软件系统的状态是离散的，状态与状态之间的转换并非总是确定的。  

#### 复杂系统的属性 ####
层次结构：复杂性常常以层次结构的形式存在，复杂的系统由一些相关的子系统组成，这些子系统又有自己的系统，如此下去，直到达到某种最低层次的基本组件。  
相对本原:复杂系统中选择的基础组件，另一个观察者可能认为非基础组件  
分离关注:组件内的联系通常比组件间的联系更强，这一事实实际上将组件中高频率动作（涉及组件内的内部结构）和低频率动作（涉及组件间的相互作用）分离开。  
共同模式:层次结构通常只是由少数不同类型的子类型按照不同的组合和安排方式构成的。复杂系统具有共同的模式，这些模式涉及小组件的复用  
稳定的中间形式： 复杂系统趋向于随时间演变，总是从能工作的简单系统演变而来，从头设计的复杂系统不能工作，也不能通过打补丁的方式使其工作。必须从头开始，从能工作的简单系统开始。  

#### 从混沌到有序 ####
分解：  
1）算法分解:系统中每个模块代表某个总体过程的一个主要步骤  
2）对象分解：一个对象展示了一些良好的行为，我们通过发送消息要求它们做它们能做的事情  
抽象：一个人同一时刻只能理解大约7个信息，上下浮动2个，我们通过将输入组织为一些不同的维度，并形成一些片段序列。  
层次：复杂的软件系统中显式地组织类和对象层次，可以增加单块信息的语义内容  

#### 复杂系统设计   ####
建模：每个模型描述了被设计系统的某个方面，为了表达一个复杂系统，必须使用多种模型  
软件设计学的要素：  
1）表示法：表达每个模型的语言  
2）过程：导致有序构建系统模型的过程  
3）工具：消除建模中的枯燥工作并强制实现模型本身的规则的工件，可以揭示错误和不一致性  
面向对象开发的模型：面向对象分析和设计实现面向对象分解，可以创建出灵活适应变化的软件，通过明智地分离它的状态空间，降低开发复杂软件系统所固有的风险  

### 对象模型 ###
#### 对象模型基础 ####
面向对象分析： 一种分析方法，利用从问题域的词汇表中找到的类和对象来分析需求。  
面向对象设计：一种设计方法，包括面向对象分解的过程和一种表示法，这种表示法用于展现被设计系统的逻辑模型、物理模型、静态模型和动态模型。  
面向对象编程：是一种实现方法，在这种方法中，程序被组织成需要相互协作的对象，每个对象代表某个类的一个实例，而类则属于一个通过继承关系形成的层次结构。  

#### 对象模型要素 ####
抽象：描述了一个对象的基本特征，可以将这个对象与所有其他类型的对象区分开来，提供了清晰定义的概念边界，它与观察者的视角有关。  
封装：封装是一个过程，它分离构成抽象的结构和行为的元素，封装的作用是分离抽象的概念接口及其实现。  
模块化：是系统的一个属性，这个系统被分解为一组高内聚、低耦合的模块。  
层次结构：是抽象的一种分级和排序，包括单继承、多继承、聚合  
类型：是关于一个对象的类的强制规定，不同类型的对象不能互换使用或者至少它们的使用受到非常严格的限制  
并发：是一种属性，它区分了主动对象和非主动对象  
每个对象（来自真实世界的一个抽象）都可以代表一个独立的控制线程（一种过程抽象），这样的对象称为主动的。当一个系统引入并发时，必须考虑主动对象之间，主动对象与纯粹串行执行的对象之间，如何同步它们的活动。  
持久：对象的一种属性，利用这种属性，对象可以跨越时间和空间而存在。  
应用对象模型：  
1)探索基于对象和面向对象编程语言的表达能力  
2)鼓励软件复用，鼓励整个设计的复用，出现可复用的框架 
3)构建在稳定的中间状态之上的系统，这样系统更适合变化

### 类与对象 ###
#### 对象的本质 ####
一个对象是一个具有状态、行为和标识的实体。结构和行为类似的对象定义在它们共同的类中。“实例”和“对象”这两个术语可以互换使用  

状态包括这个对象的所有属性(通常是静态的）以及每个属性当前的值(通常是动态的）；状态是对象的行为的累加效果  

行为是对象在状态改变和消息传递方面的动作和反应的方式，代表了对象外部可见的活动。  

标识符是一个对象的属性，它区分这个对象与其他所有对象 
  
#### 对象之间的关系 ####
链接：两个对象之间物理上或概念上的联系  
聚合：表明一种整体/部分层次结构，提供从整体导航到它的部分的能力  

#### 类的本质 ####
类是一组对象拥有共同的结构、共同的行为和共同的语义  
接口提供类的外部视图，强调了抽象，隐藏了它的结构和行为的秘密  
实现是类的内部视图，包含类行为的秘密

#### 类之间关系 ####
关联：语义上的依赖关系  
继承：代表一般/特殊关系  
聚合：整体/部分的关系  
依赖：一端的元素以某种方式依赖于另一端的元素  

#### 类与对象的互动 ####
1. 对象是类的实例，一般频繁地被创建和销毁  
2. 类与对象在分析和设计中的角色  
分析阶段和设计早期主要任务：  
1)从问题域的词汇表中确定出类（问题的关键抽象)    
2)创建一些协作结构，让多组对象一起工作，满足问题需求的行为  
设计后期和实现阶段：  
主要关注抽象和机制的内部视图上，包括它们的物理实现 

#### 高品质的类与对象  ####
1. 评价抽象的品质  
1）耦合：模块之间关联强度的测量  
2）内聚：单个模块内各个元素的联系程度  
3）充分性：模块或类应该记录足够多的特征，从而允许有意义的、有效的交互  
4）完整性：类或者模块的接口包含某个抽象全部有意义的特征  
5）基础性：只有访问该抽象的底层系统表现形式才能有效实现那些操作，比如向一个集合中添加一个元素是基础操作，而向集合添加4项元素不是基础性操作，可以通过更为基础性"添加一个元素"操作有效实现
2. 操作  
1）功能语义：对于一个给定的类，尽可能让所有的操作保持基础性，每个操作都展示小的、定义良好的行为  
2）时间和空间语义： 确定某个操作并定义功能语义后，还有考虑时间语义和空间语义，要决定它完成操作需要的时间和存储空间  
3. 关系  
1）LoD法则： 每个类只应该了解那些与它关系密切的类的结构  
2）机制和可见性：决定对象之间关系主要是设计这些对象进行交互的机制  
4. 实现  
1) 表示形式：类或对象的表现形式几乎总是抽象封装起来的秘密，可以改变表示形式(例如，改变时间语义和空间语义），同时又不会违反客户对功能所做的任何假定  
2）将类或对象放入一个模块

### 分类 ###
#### 确定类和对象 ####
1. 分类方法  
经典分类：利用相关的属性作为对象间相似性的判据  
概念聚集：首先形成类的概念描述，然后根据这些描述对实体进行分类  
原型理论：对象的类是一个原型对象代表的，若一个对象与这个原型表现出相似性，那么这个对象被认为是这个类的一员  
2. 面向对象分析  
1）经典方法：类和对象的来源都来自于问题域的需求，通过经典分类的方法提取类和对象  
2）行为分析：关注动态的行为，将这些行为作为类和对象的主要来源  
3）领域分析：确定对象、操作和关系的尝试，领域专家认为这些对象、操作和关系对这个领域很重要  
4）用例分析：结合经典、行为以及领域分析，一个执行者通过与系统进行对话的方式执行一个行为上相关的事务序列，目的是为执行者提供某种可度量的价值  
5）CRC卡片： Class/Responsibilites/Collaborators卡片上写上类名称，它的责任以及协作者，促进开发者之间的头脑风暴  
6）非正式英文描述： 写下问题的英文描述，然后划出名词和动词，名词代表候选对象，动词代表对象上的候选操作  
7) 结构化分析：不建议将结构化分析用于面向对象
#### 关键抽象和机制 ####
1. 确定关键抽象  
1）确定关键抽象包含两个过程：发现和发明，通过发现过程意识到领域专家使用的抽象；通过发明过程创建新的类和对象，并不一定是问题域的组成部分。比如使用ATM的客户提到账户、取款和存款，这些词是问题域词汇表的一部分，也必须引入新的抽象，如数据库、列表、队列等，这些不属于问题域。  
2）精华关键抽象  
将某个关键抽象确定为候选者时，需要根据"高品质的类与对象"的指标来评估它。  
3）正确命名关键抽象  
2. 识别机制  
机制是对象协作提供某些高层行为的方式  
机制即模式：是我们构造良好的软件系统中发现的各种模式

### 表示法 ###
1. UML  
UML统一建模语言是分析、说明和设计软件系统的主要建模语言  
2. 模型与多重视图  
人们用UML对构建的系统进行建模，所构建的UML模型将以一定的保真度展现要构建的真实系统，UML有多种不同类型的图，每一种都提供系统的某一个种视图。  
3. UML图分类  
UML图可以分成两大类： 结构图和行为图，其中结构图包括包图、类图、组件图、部署图、对象图、组合结构图；行为图包括用例图、活动图、状态机图、交互图(包括序列图、通信图、交互概览图、时间图）

### 过程 ###
#### 首要原则 ####
成功项目的特征  
1）存在很强的架构愿景  
2）应用管理良好的迭代、增量式的开发生命周期  
追求理性的开发过程  
常见的开发过程有Rational统一过程、XP、SCRUM  

#### 宏观过程 ####
1. 内容维度（每个迭代）  
1) 科目内容： **需求、分析与设计、实现、测试、部署**  
2）每个科目的支撑动作： **项目管理、配置和变更管理、环境**
2. 时间维度  
1）阶段（包含多个迭代）：**初始、细化、构造、移交**  
2）迭代：迭代一般会包含所有科目内容(需求、分析与设计、实现、测试、部署），在不同阶段花费的时间不同，比如在初始阶段，在需求澄清部分会费时间比较多，在细化阶段，花在分析与设计的时间会比较多。
3. 发行计划  
确定迭代的平均时间（即决定发布版本的时间间隔）  
确定需求优先级  
发布版本：可以是内部的，也可以是外部的版本，最后的发布版本是一个外部发布的版本，代表了产品系统  
制定详细的迭代计划  

#### 微观过程:分析与设计 ####
1. 抽象层次  
1）架构  
分析：建立初始的系统架构框架，为架构设计提供指导和上下文背景  
设计：优化架构分析得到的架构，确定系统主要的设计元素，包括必须遵守的共同机制  
2）组件  
分析：理解当前的一组需求，提供解决方案的初始版本，将需求分配到解决方案的元素中去  
设计：改进设计元素，得到一份规格说明，这份规格可利用具体的实现技术有效地实现  
2. 活动  
确定元素  
元素间的协作  
元素的关系  
元素的语义
3. 产品  
架构描述： 描述系统的架构，包括对通用机制的描述，包括分析/设计模型中对架构有重要意义的方面，可使用4+1架构视图模型  
分析/设计模型：包括软件解决方案中的分析和设计元素，它们的组织方式以及实现 

### 实战 ###
#### 管理与计划 ####
风险管理  
任务计划  
开发评审  

#### 人员配备 ####
资源配置  
开发团队角色  

#### 发布版本管理 ####
配置管理  
版本控制  
集成  
测试  

#### 复用 ####
复用的元素  
建立复用制度  

#### 质量保证和度量 ####
软件质量： 缺陷发现率和缺陷密度  
面向对象质量： 当前没有统一的方式，有人提出继承树的深度、孩子的数量、对象类之间的耦合  

#### 文档化 ####
开发遗产： 文档可以记录系统分析和设计决策的遗产  
文档化的内容： 系统架构和实现的基本文档应该包括如下内容，描述高层系统架构的文档；描述系统架构的关键抽象和机制的文档；描述系统关键方面的相关行为的场景文档。

### 工具 ###
1）工具种类  
可视化建模工具  
软件配置管理和版本控制工具  
类库工具  
2）组织上意义
当前组织需要强有力工具的时候，会导致开发组织内部需要两种特殊的角色：复用工程师和工具编制工程师；复用工程师的职责是维护一个项目的类库。工具编制工程师是创造领域特定的工具或剪裁现有的工具使之符合项目的需要  

### 应用实战 ###
书中有多个应用，这里仅说明其中的Web应用  
#### 初始 ####
1. 需求  
愿景  
功能需求  
非功能需求  
约束  
2. 用例模型  
顶级用例  
使用用例图表示顶级用例  

#### 细化 ####
使用4+1架构视图模型  
部署视图  
逻辑视图  
运行视图  
开发视图  
用例视图

#### 构造 ####
用户体验模型： 页面展示和页面展示类图  
分析和设计模型：首要用例的分析模型类图和其他用例的分析模型类图  
实体：服务数据对象、主键生成、EJB finder方法  
控制器  
web页面和用户页面  

#### 移交 ####
无法假设硬件和软件配置  
相关问题: javascript版本支持、样式表、框、带宽


 

